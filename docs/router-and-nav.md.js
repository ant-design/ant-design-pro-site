webpackJsonp([33,48],{1546:function(n,a){n.exports={content:["article",{},["h2","\u524d\u5e8f\u77e5\u8bc6"],["p","\u5728\u811a\u624b\u67b6\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u642d\u597d\u4e86\u81ea\u52a8\u751f\u6210\u8def\u7531\u548c\u83dc\u5355\u7684\u57fa\u672c\u6846\u67b6\uff0c\u6839\u636e\u5b9e\u73b0\u65b9\u5f0f\u7684\u533a\u522b\uff0c\u901a\u5e38\u5bf9\u4e8e\u5bfc\u822a\u548c\u8def\u7531\u76f8\u5173\u7684\u9700\u6c42\uff0c\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u4e24\u79cd\uff1a"],["ul",["li",["p",["strong","\u53ef\u4ee5\u5229\u7528\u73b0\u6709\u5e03\u5c40\u53ca\u5bfc\u822a\u5c55\u793a\u89c4\u5219\uff0c\u53ea\u662f\u65b0\u589e\u9875\u9762"],"\u3002"],["p"," \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ea\u9700\u8981\u5bf9\u5bfc\u822a\u6570\u636e\u8fdb\u884c\u589e\u5220\uff0c\u5c31\u80fd\u5b8c\u6210\u8def\u7531\u548c\u5bfc\u822a\u7684\u914d\u7f6e\u3002"]],["li",["p",["strong","\u65b0\u589e\u9875\u9762\u6709\u4e0d\u540c\u7684\u5e03\u5c40\uff0c\u6216\u4e0d\u540c\u7684\u5bfc\u822a\u5c55\u793a\u89c4\u5219"],"\u3002"],["p"," \u8fd9\u79cd\u60c5\u51b5\u4f1a\u7a0d\u5fae\u9ebb\u70e6\u4e00\u4e9b\uff0c\u4fee\u6539\u6570\u636e\u7684\u540c\u65f6\uff0c\u8fd8\u9700\u8981\u4f60\u65b0\u5efa\u5e03\u5c40\u6587\u4ef6\uff0c\u8fd8\u53ef\u80fd\u9700\u8981\u81ea\u5df1\u751f\u6210\u76f8\u5e94\u7684\u5bfc\u822a\uff0c\u6216\u5bf9\u73b0\u6709\u89c4\u5219\u8fdb\u884c\u8c03\u6574\u3002"]]],["blockquote",["p","\u6ce8\u610f\uff1a\u6211\u4eec\u7684\u811a\u624b\u67b6\u4f9d\u8d56 ",["code","dva@2"],"\uff0c\u8def\u7531\u65b9\u9762\u662f\u57fa\u4e8e ",["code","react-router@4"]," \u7684\u5b9e\u73b0\uff0c\u5728\u5199\u6cd5\u4ee5\u53ca API \u4e0a\u4e0e\u4e4b\u524d\u7684\u7248\u672c\u6709\u8f83\u5927\u4e0d\u540c\uff0c\u6240\u4ee5\uff0c\u5bf9\u4e8e\u4e0a\u9762\u63d0\u5230\u7684\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u9700\u8981\u4f60\u5177\u5907\u4e00\u4e9b\u76f8\u5173\u7684\u57fa\u7840\u77e5\u8bc6\u3002\u8fd9\u91cc\u7ed9\u51fa\u51e0\u7bc7\u5173\u952e\u6587\u6863\uff1a"],["ul",["li",["p",["a",{title:null,href:"https://reacttraining.com/react-router/web/guides/philosophy"},"react-router"]]],["li",["p",["a",{title:null,href:"https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/migrating.md"},"Migrating from v2/v3 to v4"]]],["li",["p",["a",{title:null,href:"https://github.com/sorrycc/blog/issues/48"},"dva@2.0"]]]]],["p","\u4e0b\u9762\u7b80\u5355\u4ecb\u7ecd\u4e24\u79cd\u60c5\u51b5\u4e0b\u5982\u4f55\u6dfb\u52a0\u8def\u7531/\u83dc\u5355\u3002"],["h2","\u6dfb\u52a0\u8def\u7531/\u83dc\u5355"],["h3","\u6dfb\u52a0\u9875\u9762"],["p","\u811a\u624b\u67b6\u9ed8\u8ba4\u63d0\u4f9b\u4e86\u4e24\u79cd\u5e03\u5c40\u6a21\u677f\uff1a",["code","\u57fa\u7840\u5e03\u5c40 - BasicLayout"]," \u4ee5\u53ca ",["code","\u8d26\u6237\u76f8\u5173\u5e03\u5c40 - UserLayout"],"\uff1a"],["p",["img",{alt:"\u57fa\u7840\u5e03\u5c40",src:"https://gw.alipayobjects.com/zos/rmsportal/oXmyfmffJVvdbmDoGvuF.png"}]],["p",["img",{alt:"\u8d26\u6237\u76f8\u5173\u5e03\u5c40",src:"https://gw.alipayobjects.com/zos/rmsportal/mXsydBXvLqBVEZLMssEy.png"}]],["p","\u5982\u679c\u4f60\u7684\u9875\u9762\u53ef\u4ee5\u5229\u7528\u8fd9\u4e24\u79cd\u5e03\u5c40\uff0c\u90a3\u4e48\u53ea\u9700\u8981\u5728\u5bfc\u822a\u6570\u636e\u4e2d\u589e\u52a0\u4e00\u6761\u5373\u53ef\u3002\u6253\u5f00\u6587\u4ef6 ",["code","src/common/nav.js"],"\uff0c\u6dfb\u52a0\u4f60\u7684\u9875\u9762\u4fe1\u606f\uff1a"],["pre",{lang:"js",highlighted:'<span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> <span class="token string">\'\u65b0\u9875\u9762\'</span><span class="token punctuation">,</span>             <span class="token comment" spellcheck="true">// \u9875\u9762\u540d\u79f0\uff0c\u4f1a\u5c55\u793a\u5728\u83dc\u5355\u680f\u4e2d</span>\n  path<span class="token punctuation">:</span> <span class="token string">\'new\'</span><span class="token punctuation">,</span>               <span class="token comment" spellcheck="true">// \u5339\u914d\u7684\u8def\u7531</span>\n  icon<span class="token punctuation">:</span> <span class="token string">\'file\'</span><span class="token punctuation">,</span>              <span class="token comment" spellcheck="true">// \u9875\u9762\u56fe\u6807\uff0c\u4f1a\u5c55\u793a\u5728\u83dc\u5355\u680f\u4e2d</span>\n  component<span class="token punctuation">:</span> NewPage<span class="token punctuation">,</span>        <span class="token comment" spellcheck="true">// \u9875\u9762\u5bf9\u5e94\u7684\u7ec4\u4ef6\uff0c\u8bb0\u5f97\u5728\u9875\u5934\u5f15\u5165 `import NewPage from \'../routes/NewPage\';`</span>\n<span class="token punctuation">}</span>'},["code","{\n  name: '\u65b0\u9875\u9762',             // \u9875\u9762\u540d\u79f0\uff0c\u4f1a\u5c55\u793a\u5728\u83dc\u5355\u680f\u4e2d\n  path: 'new',               // \u5339\u914d\u7684\u8def\u7531\n  icon: 'file',              // \u9875\u9762\u56fe\u6807\uff0c\u4f1a\u5c55\u793a\u5728\u83dc\u5355\u680f\u4e2d\n  component: NewPage,        // \u9875\u9762\u5bf9\u5e94\u7684\u7ec4\u4ef6\uff0c\u8bb0\u5f97\u5728\u9875\u5934\u5f15\u5165 `import NewPage from '../routes/NewPage';`\n}"]],["p","\u52a0\u597d\u540e\uff0c\u4f1a\u9ed8\u8ba4\u751f\u6210\u76f8\u5173\u7684\u8def\u7531\u53ca\u5bfc\u822a\u3002"],["h3","\u6dfb\u52a0 Layout \u6a21\u677f"],["p","\u5982\u679c\u63d0\u4f9b\u7684\u5e03\u5c40\u4e0d\u80fd\u6ee1\u8db3\u4f60\u7684\u8981\u6c42\uff0c\u5c31\u9700\u8981\u81ea\u5df1\u65b0\u5efa Layout \u6a21\u677f\u4e86\u3002\u540c\u6837\u7684\uff0c\u6253\u5f00\u6587\u4ef6 ",["code","src/common/nav.js"],"\uff0c\u6dfb\u52a0\u4f60\u7684\u6a21\u677f\u53ca\u9875\u9762\u4fe1\u606f\uff1a"],["pre",{lang:"js",highlighted:'<span class="token punctuation">{</span>\n  component<span class="token punctuation">:</span> NewLayout<span class="token punctuation">,</span>       <span class="token comment" spellcheck="true">// \u65b0\u5efa\u7684\u6a21\u677f</span>\n  layout<span class="token punctuation">:</span> <span class="token string">\'NewLayout\'</span><span class="token punctuation">,</span>        <span class="token comment" spellcheck="true">// \u6807\u8bb0\uff0c\u751f\u6210\u8def\u7531\u65f6\u4f1a\u7528\u5230</span>\n  children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>\n    name<span class="token punctuation">:</span> <span class="token string">\'\u65b0\u5e03\u5c40\'</span><span class="token punctuation">,</span>            <span class="token comment" spellcheck="true">// \u65b0\u5e03\u5c40\u4e0b\u7684\u9875\u9762\u90fd\u53ef\u4ee5\u653e\u5230\u8fd9\u91cc</span>\n    icon<span class="token punctuation">:</span> <span class="token string">\'new\'</span><span class="token punctuation">,</span>\n    path<span class="token punctuation">:</span> <span class="token string">\'new\'</span><span class="token punctuation">,</span>\n    children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>\n      name<span class="token punctuation">:</span> <span class="token string">\'\u65b0\u9875\u9762\'</span><span class="token punctuation">,</span>\n      path<span class="token punctuation">:</span> <span class="token string">\'new-page\'</span><span class="token punctuation">,</span>\n      component<span class="token punctuation">:</span> NewPage<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>'},["code","{\n  component: NewLayout,       // \u65b0\u5efa\u7684\u6a21\u677f\n  layout: 'NewLayout',        // \u6807\u8bb0\uff0c\u751f\u6210\u8def\u7531\u65f6\u4f1a\u7528\u5230\n  children: [{\n    name: '\u65b0\u5e03\u5c40',            // \u65b0\u5e03\u5c40\u4e0b\u7684\u9875\u9762\u90fd\u53ef\u4ee5\u653e\u5230\u8fd9\u91cc\n    icon: 'new',\n    path: 'new',\n    children: [{\n      name: '\u65b0\u9875\u9762',\n      path: 'new-page',\n      component: NewPage,\n    }],\n  }],\n}"]],["p","\u5728 ",["code","src/layouts"]," \u4e0b\u65b0\u5efa\u4f60\u7684\u9875\u9762\u5e03\u5c40\u3002\u56e0\u4e3a ",["code","react-router@4"]," \u4e0d\u518d\u652f\u6301\u8def\u7531\u5d4c\u5957\uff0c\u65e0\u6cd5\u5728\u4e00\u4e2a\u7edf\u4e00\u7684\u6587\u4ef6\u4e2d\u751f\u6210\u6240\u6709\u8def\u7531\u7ed3\u6784\uff0c\u4e8e\u662f\u5728\u811a\u624b\u67b6\u4e2d\uff0c\u6211\u4eec\u628a\u751f\u6210\u8def\u7531\u8fd9\u4e00\u5de5\u4f5c\u653e\u5230\u4e86\u5404\u81ea\u7684 layout \u6587\u4ef6\u4e2d\uff0c\u6240\u4ee5\u5728\u4f60\u7684\u65b0\u5efa layout \u4e4b\u5185\uff0c\u9664\u4e86\u8981\u5b9e\u73b0\u4f60\u9700\u8981\u7684\u5e03\u5c40\uff0c\u6700\u91cd\u8981\u7684\u5c31\u662f\u8d1f\u8d23\u751f\u6210\u76f8\u5173\u8def\u7531\uff0c\u53ef\u4ee5\u4eff\u7167 ",["code","src/layouts/UserLayout.js"]," \u4e2d\u7684\u65b9\u5f0f\uff1a"],["pre",{lang:"js",highlighted:'<span class="token punctuation">{</span>\n  <span class="token function">getRouteData</span><span class="token punctuation">(</span><span class="token string">\'UserLayout\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span>\n    <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>Route\n        exact<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>exact<span class="token punctuation">}</span>\n        key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>path<span class="token punctuation">}</span>\n        path<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>path<span class="token punctuation">}</span>\n        component<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>component<span class="token punctuation">}</span>\n      <span class="token operator">/</span><span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span>'},["code","{\n  getRouteData('UserLayout').map(item =>\n    (\n      <Route\n        exact={item.exact}\n        key={item.path}\n        path={item.path}\n        component={item.component}\n      />\n    )\n  )\n}"]],["p",["code","getRouteData"]," \u662f ",["code","src/utils/utils.js"]," \u4e2d\u7684\u65b9\u6cd5\uff0c\u4ed6\u53ef\u4ee5\u5e2e\u52a9\u4f60\u4ece\u4e4b\u524d\u914d\u7f6e\u7684\u6570\u636e\u6587\u4ef6 ",["code","src/common/nav.js"]," \u8bfb\u51fa\u6307\u5b9a\u5e03\u5c40\u76f8\u5173\u7684\u8def\u7531\u4fe1\u606f\uff0c\u8fdb\u800c\u751f\u6210\u8def\u7531\u914d\u7f6e\uff0c\u4f20\u5165\u7684\u53c2\u6570\u5c31\u662f\u6bcf\u4e2a layout \u6a21\u677f\u72ec\u6709\u7684\u6807\u8bb0\u3002"],["blockquote",["p","\u4e0a\u9762 Route \u6807\u7b7e\u7684 ",["code","exact"]," \u5c5e\u6027\u4e3a ",["code","react-router@4"]," \u4e2d\u65b0\u589e\u7684\u7279\u6027\uff0c\u5177\u4f53\u8bf7\u53c2\u8003\u4e0a\u9762\u7ed9\u51fa\u7684\u6587\u6863\u3002"]],["p","\u5230\u8fd9\u4e00\u6b65\uff0c\u8def\u7531\u5c31\u5efa\u597d\u4e86\u3002\u65b0\u5efa\u597d\u9875\u9762\u4e4b\u540e\uff0c\u76f8\u5173\u94fe\u63a5\u5c31\u80fd\u8bbf\u95ee\u4e86\uff0c\u4f46\u4f60\u4f1a\u53d1\u73b0\u5728\u57fa\u7840\u9875\u9762\u7684\u4fa7\u8fb9\u5bfc\u822a\u4e2d\u4e5f\u5305\u542b\u65b0\u5efa\u7684\u4fe1\u606f\uff0c\u8fd9\u662f\u56e0\u4e3a\uff0c\u5728 ",["code","src/layouts/BasicLayout.js"]," \u4e2d\u4f1a\u9ed8\u8ba4\u8bfb\u53d6\u6240\u6709\u6570\u636e\uff0c\u751f\u6210\u5bfc\u822a\u83dc\u5355\uff0c\u5982\u679c\u8fd9\u4e0d\u662f\u4f60\u9700\u8981\u7684\uff0c\u53ef\u4ee5\u81ea\u5df1\u5bf9\u76f8\u5173\u903b\u8f91\u8fdb\u884c\u6539\u9020\u3002\u540c\u6837\u7684\uff0c\u5982\u679c\u4f60\u7684\u65b0\u5efa layout \u4e2d\u9700\u8981\u81ea\u52a8\u751f\u6210\u83dc\u5355\uff0c\u4e5f\u53ef\u4ee5\u53c2\u7167 ",["code","src/layouts/BasicLayout.js"]," \u4e2d\u7684\u5b9e\u73b0\u65b9\u6848\u3002"],["h2","\u5e38\u89c1\u95ee\u9898"],["h3",["code","Link"]," to \u5c5e\u6027"],["p","\u5728 ",["code","react-router@4"]," \u4e2d\uff0c\u8fd9\u4e00\u5c5e\u6027\u53d8\u4e3a\u5fc5\u9009\u9879\uff0c\u5982\u679c\u503c\u4e3a undefined\uff0c\u4f1a\u5f15\u53d1\u4e00\u7cfb\u5217\u62a5\u9519\u548c\u8b66\u544a\uff0c\u8fd9\u4e00\u70b9\u9700\u8981\u683c\u5916\u6ce8\u610f\u3002\u76f8\u5173\u6587\u6863\u53ca issue\uff1a"],["ul",["li",["p",["a",{title:null,href:"https://reacttraining.com/react-router/web/api/Link"},"react-router@4 Link"]]],["li",["p",["a",{title:null,href:"https://github.com/ReactTraining/react-router/pull/5271"},"\u76f8\u5173\u8ba8\u8bba"]]]],["h3","\u5229\u7528 PageHeader \u81ea\u52a8\u751f\u6210 Breadcrumb"],["p","\u5982\u679c\u4f60\u7684\u65b0\u5efa layout \u6a21\u677f\u9700\u8981\u9762\u5305\u5c51\uff0c\u5efa\u8bae\u5229\u7528 ",["a",{title:null,href:"/components/PageHeader"},"PageHeader"]," \u81ea\u52a8\u751f\u6210\u3002\u524d\u63d0\u662f\u4f60\u9700\u8981\u5728 layout \u4e2d\u4ee5 context \u7684\u5f62\u5f0f\u4f20\u5165\u9762\u5305\u5c51\u53ca\u4f4d\u7f6e\u76f8\u5173\u53c2\u6570\uff0c\u53ef\u53c2\u7167 ",["code","src/layouts/BasicLayout.js"]," \u4e2d\u7684\u65b9\u5f0f\uff1a"],["pre",{lang:"js",highlighted:'<span class="token function">getChildContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span> location <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>\n  <span class="token keyword">const</span> routeData <span class="token operator">=</span> <span class="token function">getRouteData</span><span class="token punctuation">(</span><span class="token string">\'BasicLayout\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> menuData <span class="token operator">=</span> <span class="token function">getNavData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> current<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> breadcrumbNameMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n  routeData<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>menuData<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    breadcrumbNameMap<span class="token punctuation">[</span>item<span class="token punctuation">.</span>path<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">.</span>name<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span> location<span class="token punctuation">,</span> breadcrumbNameMap <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>'},["code","getChildContext() {\n  const { location } = this.props;\n  const routeData = getRouteData('BasicLayout');\n  const menuData = getNavData().reduce((arr, current) => arr.concat(current.children), []);\n  const breadcrumbNameMap = {};\n  routeData.concat(menuData).forEach((item) => {\n    breadcrumbNameMap[item.path] = item.name;\n  });\n  return { location, breadcrumbNameMap };\n}"]]],meta:{order:2,title:"\u8def\u7531\u548c\u83dc\u5355",type:"\u5165\u95e8",filename:"docs/router-and-nav.md"},description:["section",["p","\u8def\u7531\u548c\u83dc\u5355\u662f\u7ec4\u7ec7\u8d77\u4e00\u4e2a\u5e94\u7528\u7684\u5173\u952e\u9aa8\u67b6\uff0c\u6211\u4eec\u7684\u811a\u624b\u67b6\u63d0\u4f9b\u4e86\u4e00\u4e9b\u57fa\u672c\u7684\u5de5\u5177\u53ca\u6a21\u677f\uff0c\u5e2e\u52a9\u4f60\u66f4\u65b9\u4fbf\u7684\u642d\u5efa\u81ea\u5df1\u7684\u8def\u7531/\u83dc\u5355\u3002"]],toc:["ul",["li",["a",{className:"bisheng-toc-h2",href:"#\u524d\u5e8f\u77e5\u8bc6",title:"\u524d\u5e8f\u77e5\u8bc6"},"\u524d\u5e8f\u77e5\u8bc6"]],["li",["a",{className:"bisheng-toc-h2",href:"#\u6dfb\u52a0\u8def\u7531/\u83dc\u5355",title:"\u6dfb\u52a0\u8def\u7531/\u83dc\u5355"},"\u6dfb\u52a0\u8def\u7531/\u83dc\u5355"]],["li",["a",{className:"bisheng-toc-h2",href:"#\u5e38\u89c1\u95ee\u9898",title:"\u5e38\u89c1\u95ee\u9898"},"\u5e38\u89c1\u95ee\u9898"]]]}}});